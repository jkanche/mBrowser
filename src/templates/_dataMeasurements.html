<form>
    <div class="panel panel-default">
        <div class="panel-heading">
            <div class="form-group form-inline">
                <div class="btn-group" uib-dropdown is-open="status1.isopen">
                    <button id="ds-button" type="button" class="btn btn-primary" uib-dropdown-toggle>{{qBuilder.dataSource}}<span class="caret"></span></button>
                    <ul uib-dropdown-menu role="menu" aria-labelledby="ds-button">
                        <li role="menuitem" ng-repeat="ds in current.dataSources"><a href="#" ng-click="$parent.qDataSource($index)">{{ds.name}}</a></li>
                    </ul>
                </div>
                <div class="form-group form-inline" ng-show="qDataSourceSel">
                    <div class="btn-group" uib-dropdown is-open="status2.isopen">
                        <button id="da-button" type="button" class="btn btn-primary" uib-dropdown-toggle>{{qBuilder.filterField}}<span class="caret"></span></button>
                        <ul uib-dropdown-menu role="menu" aria-labelledby="da-button">
                            <li role="menuitem" ng-repeat="da in current.dataAnnotations"><a href="#" ng-click="$parent.qDataField(da)">{{da.field}}</a></li>
                        </ul>
                    </div>
                    <div class="form-group form-inline" ng-show="qDataFieldSel">
                        <select class="form-control" ng-model="qBuilder.filterOperator" ng-options="filter.name for filter in qField.sFilter" ></select>
<!--                        <div range-slider ng-if="qBuilder.filterOperator.name == 'range'" min="qField.minRange"
                             max="qField.maxRange" model-min="qBuilder.filtMinVal" model-max="qBuilder.filtMaxVal">
                        </div>-->
                        <input ng-if="qBuilder.filterOperator.name != 'range'" type="text" class="form-control" uib-typeahead="dVal for dVal in qField.dValues | filter:$viewValue | limitTo:8" placeholder="keyword" ng-model="qBuilder.filterValue">
                        <button class="btn btn-primary" type="button" ng-click="applyFilter(qBuilder)">Apply Filter</button>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <ul class="list-inline">
                    <li class="bg-info" ng-repeat="fil in fqBuilder"> {{fil.filterField}}: {{fil.filterOperator}} {{fil.filterValue}}
                        <button type="button" class="close" aria-label="Close" ng-click="removeFilter($index)"><span aria-hidden="true">&times;</span></button>
                    </li>
                </ul>
            </div>
        </div>
        <div class="panel-body">
            <div ng-if="qDataSourceSel == false"> Please Select a Data Source </div>
            <div ng-if="qDataSourceSel == true">
                <dyntable data="current.dataMeasurements" selectiontype="multiple">
                </dyntable>
            </div>
        </div>
    </div>
</form>